"use strict";var fs=require("fs"),spawn=require("child_process").spawn,path=require("path"),baseFolder=process.env.APPDATA!==undefined&&process.env.APPDATA!==""?process.env.APPDATA+"/ASP.NET/https":process.env.HOME+"/.aspnet/https",certificateArg=process.argv.map(function(n){return n.match(/--name=(?<value>.+)/i)}).filter(Boolean)[0],certificateName=certificateArg?certificateArg.groups.value:process.env.npm_package_name,certFilePath,keyFilePath;if(certificateName||(console.error("Invalid certificate name. Run this script in the context of an npm/yarn script or pass --name=<<app>> explicitly."),process.exit(-1)),certFilePath=path.join(baseFolder,certificateName+".pem"),keyFilePath=path.join(baseFolder,certificateName+".key"),!fs.existsSync(certFilePath)||!fs.existsSync(keyFilePath))spawn("dotnet",["dev-certs","https","--export-path",certFilePath,"--format","Pem","--no-password"],{stdio:"inherit"}).on("exit",function(n){return process.exit(n)});